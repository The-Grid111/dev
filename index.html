<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>THE GRID</title>
  <style>
    :root {
      --accent: #d4af37;
      --accent2: #6ca0ff;
      --ink: #ffffff;
      --soft: #a0a0a0;
      --card: #111111;
      --panel: #1a1a1a;
      --bgA: #000000;
      --bgB: #0a0a0a;
      --ring: 40;
      --radius: 16px;
      --fontScale: 1;
      --space: 1;
      --vignette: 1;
    }

    body {
      margin: 0;
      font-family: system-ui, sans-serif;
      background: linear-gradient(180deg,var(--bgA),var(--bgB));
      color: var(--ink);
      line-height: 1.6;
      display: flex;
      flex-direction: column;
      align-items: center;
      overflow-x: hidden;
    }

    header {
      text-align: center;
      padding: 4rem 1rem 2rem;
    }

    header h1 {
      font-size: calc(2rem * var(--fontScale));
      margin: 0;
      color: var(--accent);
    }

    header p {
      color: var(--soft);
      max-width: 600px;
      margin: 1rem auto 0;
    }

    .plans {
      display: grid;
      gap: 2rem;
      grid-template-columns: repeat(auto-fit,minmax(260px,1fr));
      padding: 2rem;
      max-width: 1200px;
      width: 100%;
    }

    .plan {
      background: var(--card);
      border-radius: var(--radius);
      padding: 2rem;
      position: relative;
      text-align: center;
      box-shadow: 0 0 15px rgba(0,0,0,0.4);
      border: 1px solid rgba(212,175,55,0.25);
    }

    .plan h2 {
      margin-top: 0;
      font-size: 1.5rem;
      color: var(--accent);
    }

    .price {
      font-size: 1.8rem;
      margin: 1rem 0;
      font-weight: bold;
    }

    .badge {
      position: absolute;
      top: 1rem;
      right: 1rem;
      background: var(--accent);
      color: #000;
      padding: 0.2rem 0.6rem;
      font-size: 0.8rem;
      border-radius: 12px;
    }

    ul {
      list-style: none;
      padding: 0;
      margin: 1rem 0;
      text-align: left;
    }

    ul li {
      margin: 0.4rem 0;
    }

    .btn {
      display: inline-block;
      margin: 0.4rem;
      padding: 0.6rem 1.2rem;
      border-radius: 8px;
      border: none;
      font-weight: 600;
      cursor: pointer;
      transition: background 0.2s;
    }

    .btn.primary {
      background: var(--accent);
      color: #000;
    }
    .btn.secondary {
      background: #333;
      color: var(--ink);
    }
    .btn:hover { opacity: 0.85; }

    dialog {
      background: var(--panel);
      border: none;
      border-radius: 12px;
      max-width: 420px;
      padding: 2rem;
      color: var(--ink);
    }

    dialog::backdrop { background: rgba(0,0,0,0.8); }
    #fx { position: fixed; inset:0; pointer-events:none; z-index:10; }
  </style>
</head>
<body>
  <header>
    <h1>THE GRID</h1>
    <p>Create, customize, and grow — with a system built for TikTok creators and beyond.</p>
  </header>

  <main class="plans">
    <div class="plan" data-tier="basic">
      <span class="badge">BASIC</span>
      <h2>Basic</h2>
      <div class="price">£9/mo</div>
      <ul>
        <li>Starter templates</li>
        <li>Library access</li>
        <li>Email support (48h)</li>
      </ul>
      <button class="btn primary choose">Choose</button>
      <button class="btn secondary details">Details</button>
    </div>

    <div class="plan" data-tier="silver">
      <span class="badge">SILVER</span>
      <h2>Silver</h2>
      <div class="price">£29/mo</div>
      <ul>
        <li>Everything in Basic</li>
        <li>Advanced effects</li>
        <li>Priority support (24h)</li>
      </ul>
      <button class="btn primary choose">Choose</button>
      <button class="btn secondary details">Details</button>
    </div>

    <div class="plan" data-tier="gold">
      <span class="badge">GOLD</span>
      <h2>Gold</h2>
      <div class="price">£49/mo</div>
      <ul>
        <li>Everything in Silver</li>
        <li>Customization session</li>
        <li>Admin toolkit</li>
      </ul>
      <button class="btn primary choose">Choose</button>
      <button class="btn secondary details">Details</button>
    </div>

    <div class="plan" data-tier="diamond">
      <span class="badge">DIAMOND</span>
      <h2>Diamond</h2>
      <div class="price">£99/mo</div>
      <ul>
        <li>Everything in Gold</li>
        <li>Custom pipelines & integrations</li>
        <li>Priority roadmap</li>
      </ul>
      <button class="btn primary choose">Choose</button>
      <button class="btn secondary details">Details</button>
    </div>
  </main>

  <div style="margin:2rem;">
    <button class="btn secondary" id="btnCompare">Compare Plans</button>
  </div>

  <dialog id="planModal">
    <h2 id="mTitle"></h2>
    <div id="mBody"></div>
    <div style="text-align:right;margin-top:1rem">
      <button class="btn secondary" onclick="planModal.close()">Close</button>
    </div>
  </dialog>

  <canvas id="fx"></canvas>
  <script>
    const $=s=>document.querySelector(s);
    const $$=s=>document.querySelectorAll(s);

    /* Settings + state */
    let state=JSON.parse(localStorage.getItem('thegrid.settings')||'{}');
    state=Object.assign({
      accent:getComputedStyle(document.documentElement).getPropertyValue('--accent').trim(),
      accent2:getComputedStyle(document.documentElement).getPropertyValue('--accent2').trim(),
      ink:getComputedStyle(document.documentElement).getPropertyValue('--ink').trim(),
      soft:getComputedStyle(document.documentElement).getPropertyValue('--soft').trim(),
      card:getComputedStyle(document.documentElement).getPropertyValue('--card').trim(),
      panel:getComputedStyle(document.documentElement).getPropertyValue('--panel').trim(),
      bgA:getComputedStyle(document.documentElement).getPropertyValue('--bgA').trim(),
      bgB:getComputedStyle(document.documentElement).getPropertyValue('--bgB').trim(),
      ring:40, radius:16, font:1, space:1, border:"glow", vignette:1,
      heroSrc:"assets/images/bg_01.jpg", logoSrc:"assets/videos/hero_2.mp4",
      confetti:{density:40,speed:3}
    }, state);

    function save(){ localStorage.setItem('thegrid.settings',JSON.stringify(state)); }
    function setCSS(k,v){ document.documentElement.style.setProperty(k,v); }

    function renderHero(){
      let hero=document.querySelector('.hero');
      if(!hero){
        hero=document.createElement('div');
        hero.className='hero';
        document.body.prepend(hero);
      }
      hero.style.backgroundImage=`url(${state.heroSrc})`;
    }
        /* ---------- apply theme from state ---------- */
    function applyTheme(){
      setCSS('--accent', state.accent);
      setCSS('--accent2', state.accent2);
      setCSS('--ink', state.ink);
      setCSS('--soft', state.soft);
      setCSS('--card', state.card);
      setCSS('--panel', state.panel);
      setCSS('--bgA', state.bgA);
      setCSS('--bgB', state.bgB);
      setCSS('--radius', state.radius+'px');
      setCSS('--fontScale', state.font);
      setCSS('--space', state.space);
    }

    /* ---------- greeting (header tagline) ---------- */
    (function greet(){
      const h = new Date().getHours();
      const word = h<12?'Good morning':h<18?'Good afternoon':'Good evening';
      document.querySelector('header h1').innerText = `${word} — THE GRID`;
    })();

    applyTheme();
    renderHero();

    /* ===================== Plan details ===================== */
    const DETAILS = {
      basic: `
        <p><strong>Who it’s for:</strong> creators getting started, or teams who want a clean base fast.</p>
        <p><strong>What you get</strong></p>
        <ul>
          <li>Starter site templates and blocks</li>
          <li>Access to the media library (videos, images, logos)</li>
          <li>Email support within 48h</li>
          <li>7-day refund guarantee</li>
        </ul>
        <p class="muted">Upgrade any time. Keep your settings — no rebuilds.</p>
      `,
      silver: `
        <p><strong>Who it’s for:</strong> growing creators who need polish and time-saving effects.</p>
        <p><strong>What you get</strong></p>
        <ul>
          <li>Everything in Basic</li>
          <li>Advanced effects & presets (hero/video polish, borders, glow, timing)</li>
          <li>Priority support within 24h</li>
          <li>Monthly improvement suggestions</li>
        </ul>
      `,
      gold: `
        <p><strong>Who it’s for:</strong> brands that want a tailored look with admin tools.</p>
        <p><strong>What you get</strong></p>
        <ul>
          <li>Everything in Silver</li>
          <li>Hands-on customization session (we set it up with you)</li>
          <li>Admin toolkit (theme controls, asset manifest helpers)</li>
          <li>Onboarding call (45 min)</li>
        </ul>
      `,
      diamond: `
        <p><strong>Who it’s for:</strong> teams that want integrations and fast turnarounds.</p>
        <p><strong>What you get</strong></p>
        <ul>
          <li>Everything in Gold</li>
          <li>Custom pipelines & integrations (analytics, forms, automations)</li>
          <li>Hands-on help building your stack</li>
          <li>Priority turnaround & roadmap planning</li>
        </ul>
      `
    };

    $$('.details').forEach(btn=>{
      btn.addEventListener('click', e=>{
        const card = e.currentTarget.closest('.plan');
        const tier = card.dataset.tier;
        $('#mTitle').textContent = `${tier.toUpperCase()} plan`;
        $('#mBody').innerHTML = DETAILS[tier] +
          `<div style="margin-top:1rem;text-align:right">
             <button class="btn primary" onclick="planModal.close()">Sounds good</button>
           </div>`;
        $('#planModal').showModal();
      });
    });

    /* ===================== Compare modal ===================== */
    $('#btnCompare').addEventListener('click', ()=>{
      $('#mTitle').textContent = 'Compare plans';
      $('#mBody').innerHTML = `
        <div style="overflow:auto">
          <table style="width:100%;border-collapse:collapse">
            <thead>
              <tr>
                <th style="text-align:left;padding:.6rem;border-bottom:1px solid #333">Feature</th>
                <th style="text-align:left;padding:.6rem;border-bottom:1px solid #333">Basic</th>
                <th style="text-align:left;padding:.6rem;border-bottom:1px solid #333">Silver</th>
                <th style="text-align:left;padding:.6rem;border-bottom:1px solid #333">Gold</th>
                <th style="text-align:left;padding:.6rem;border-bottom:1px solid #333">Diamond</th>
              </tr>
            </thead>
            <tbody>
              ${[
                ['Starter templates','✓','✓','✓','✓'],
                ['Media library access','✓','✓','✓','✓'],
                ['Priority support','–','24h','24h','Same-day'],
                ['Advanced effects','–','✓','✓','✓'],
                ['Customization session','–','–','✓','✓'],
                ['Admin toolkit','–','–','✓','✓'],
                ['Integrations & pipelines','–','–','–','✓']
              ].map(row=>`
                <tr>
                  ${row.map((cell,i)=>`
                    <td style="padding:.6rem;border-bottom:1px solid #222;${i? 'color:#ddd':'color:#bbb'}">${cell}</td>
                  `).join('')}
                </tr>`).join('')}
            </tbody>
          </table>
        </div>
      `;
      $('#planModal').showModal();
    });

    /* ===================== Confetti (left + right) ===================== */
    const cvs = $('#fx'), ctx = cvs.getContext('2d');
    let W=0,H=0, parts=[];
    function size(){
      const dpr = Math.max(1, window.devicePixelRatio||1);
      W = cvs.width = innerWidth * dpr;
      H = cvs.height = innerHeight * dpr;
      ctx.setTransform(dpr,0,0,dpr,0,0);
    }
    size(); addEventListener('resize', size);

    function addConfetti(el){
      const rect = el.getBoundingClientRect();
      const originY = rect.top + rect.height*0.4;
      const leftX   = rect.left - 8;
      const rightX  = rect.right + 8;
      const n = Math.max(12, state.confetti.density|0);
      const s = Math.max(1, state.confetti.speed|0);

      const palette = [getComputedStyle(document.documentElement).getPropertyValue('--accent').trim(),
                       '#ffffff','#9fb3ff','#cdd4e6'];

      for(let i=0;i<n;i++){
        parts.push(makePiece(leftX, originY,  1, s, palette));
        parts.push(makePiece(rightX,originY, -1, s, palette));
      }
    }

    function makePiece(x,y,dir,s,colors){
      const shape = Math.random()<.5 ? 'rect':'tri';
      const size = 6 + Math.random()*8;
      return {
        x, y, vx:(1.2+Math.random()*1.6)*dir*s, vy:(-2.5-Math.random()*2.5)*s,
        g:.12*s, a:1, r:Math.random()*Math.PI, w:size, h:size*.7,
        c: colors[(Math.random()*colors.length)|0], life: 140+Math.random()*40, shape
      };
    }

    function tick(){
      ctx.clearRect(0,0,innerWidth,innerHeight);
      parts = parts.filter(p=>p.life>0);
      parts.forEach(p=>{
        p.vy += p.g; p.x += p.vx; p.y += p.vy; p.r += .12; p.life--; p.a = Math.max(0, p.life/180);
        ctx.save(); ctx.translate(p.x, p.y); ctx.rotate(p.r); ctx.globalAlpha = p.a; ctx.fillStyle = p.c;
        if(p.shape==='tri'){
          ctx.beginPath();
          ctx.moveTo(0,-p.h/2); ctx.lineTo(p.w/2,p.h/2); ctx.lineTo(-p.w/2,p.h/2); ctx.closePath(); ctx.fill();
        } else {
          ctx.fillRect(-p.w/2,-p.h/2,p.w,p.h);
        }
        ctx.restore();
      });
      requestAnimationFrame(tick);
    }
    tick();

    $$('.choose').forEach(btn=>{
      btn.addEventListener('click', e=>{
        const card = e.currentTarget.closest('.plan');
        addConfetti(card);
        // here you can wire your checkout / link
        // location.href = 'https://your-checkout.example/' + card.dataset.tier;
      });
    });

  </script>
</body>
</html>
