<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1, viewport-fit=cover">
  <title>THE GRID — Launch experiences that never regress</title>
  <meta name="theme-color" content="#0b0b0d" />
  <meta name="description" content="Self-serve, adaptive, quantifiable experiences. Paste a Save to adapt instantly." />

  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <!-- Use system fonts for speed/reliability on GH Pages -->
  <link rel="stylesheet" href="site.css" />
</head>

<body class="theme-dark">
  <!-- Live background -->
  <div class="live-bg" aria-hidden="true"></div>

  <!-- Top bar -->
  <header id="topbar" class="topbar surface">
    <a id="brand" class="brand" href="#hero" title="THE GRID">
      <span class="brand-mark"></span>
      <span class="brand-name">THE GRID</span>
    </a>

    <nav class="nav">
      <button class="btn pill" data-nav="#library">Open Library</button>
      <button class="btn pill" data-nav="#pricing">See Pricing</button>
      <button class="btn pill" data-nav="#how">How it works</button>
    </nav>

    <div class="actions">
      <button id="pasteSaveBtn" class="btn chip">Paste Save</button>
      <button id="profileBtn" class="btn chip">Profile</button>
      <button id="menuBtn" class="btn icon" aria-label="Menu" title="Menu">≡</button>
    </div>
  </header>

  <main id="page">
    <!-- HERO -->
    <section id="hero" class="section hero surface" data-slot="hero">
      <p class="eyebrow">LAUNCH EXPERIENCES THAT NEVER REGRESS</p>
      <h1 class="display">
        <span id="greeting">Welcome</span>
        <span class="break"></span>Self-serve, adaptive,
        <span class="break"></span>quantifiable.
      </h1>
      <p class="lede">
        Paste a Save → instant learning. Plans unlock features; no 1:1 required.
        <strong>Diamond</strong> unlocks watermark-free, commercial-safe exports.
      </p>

      <div class="cta-row">
        <button class="btn cta" data-nav="#library">Open Library</button>
        <button class="btn outline" data-nav="#pricing">See Pricing</button>
        <button id="trialBtn" class="btn ghost" title="Launch Trial">Launch Trial — available</button>
      </div>
    </section>

    <!-- FEATURE VIDEO -->
    <section id="feature" class="section surface" data-slot="feature">
      <h2 class="h2">Feature Video</h2>
      <div class="video-wrap depth">
        <video id="featureVideo" controls playsinline preload="metadata"
               poster="assets/images/feature_poster.jpg">
          <source src="assets/videos/feature.mp4" type="video/mp4" />
          Your browser doesn’t support the video tag.
        </video>
      </div>
    </section>

    <!-- LIBRARY -->
    <section id="library" class="section surface" data-slot="library">
      <h2 class="h2">Library</h2>
      <p class="muted">Ready-to-use starters and blueprints. Drop a Save to adapt.</p>

      <div class="grid cards">
        <article class="card depth">
          <h3>Starter Blueprint</h3>
          <p>Paste a Save to adapt instantly.</p>
          <button class="btn outline" data-action="preview" data-id="starter">Preview</button>
        </article>

        <article class="card depth">
          <h3>Commerce Demo</h3>
          <p>Stripe-ready patterns.</p>
          <button class="btn outline" data-action="preview" data-id="commerce">Preview</button>
        </article>

        <article class="card depth">
          <h3>Creator Kit</h3>
          <p>Audience &amp; content flows.</p>
          <button class="btn outline" data-action="preview" data-id="creator">Preview</button>
        </article>
      </div>
    </section>

    <!-- NEWS / UPDATES -->
    <section id="news" class="section surface" data-slot="news">
      <h2 class="h2">What’s new</h2>
      <ul id="newsFeed" class="news"></ul>
    </section>

    <!-- PRICING -->
    <section id="pricing" class="section surface" data-slot="pricing">
      <h2 class="h2">Pricing</h2>
      <div class="grid cards">
        <article class="card depth">
          <h3>Trial</h3>
          <p>7 days full access to Starters</p>
          <div class="price">£5</div>
          <button class="btn" data-plan="TRIAL">Start Trial</button>
          <ul class="features">
            <li>Basic exports with watermark</li>
            <li>Community access</li>
          </ul>
        </article>

        <article class="card depth">
          <h3>Basic</h3>
          <p>All Starters</p>
          <div class="price">£9 <span class="unit">/ mo</span></div>
          <button class="btn outline" data-plan="BASIC">Get Basic</button>
          <ul class="features">
            <li>Watermarked exports</li>
            <li>Community access</li>
          </ul>
        </article>

        <article class="card depth">
          <h3>Silver</h3>
          <p>No watermark on images</p>
          <div class="price">£19 <span class="unit">/ mo</span></div>
          <button class="btn outline" data-plan="SILVER">Choose Silver</button>
          <ul class="features">
            <li>HD image exports</li>
            <li>Email support</li>
          </ul>
        </article>

        <article class="card depth">
          <h3>Gold</h3>
          <p>Advanced modules + routing</p>
          <div class="price">£49 <span class="unit">/ mo</span></div>
          <button class="btn outline" data-plan="GOLD">Choose Gold</button>
          <ul class="features">
            <li>Advanced components</li>
            <li>Routing + previews</li>
          </ul>
        </article>

        <article class="card depth highlight">
          <h3>Diamond</h3>
          <p>Commercial-safe, watermark-free exports.</p>
          <div class="price">£99 <span class="unit">/ mo</span></div>
          <button class="btn cta" data-plan="DIAMOND">Choose Diamond</button>
          <ul class="features">
            <li>Priority support</li>
            <li>White-label exports</li>
          </ul>
        </article>
      </div>
    </section>

    <!-- HOW IT WORKS -->
    <section id="how" class="section surface" data-slot="how">
      <h2 class="h2">How it works</h2>
      <ol class="how">
        <li><strong>Paste a Save</strong> (from ChatGPT) into the site.</li>
        <li><strong>Adapts instantly</strong> (no rebuilds, no regressions).</li>
        <li><strong>Export or publish</strong> using your plan features.</li>
      </ol>
    </section>

    <!-- COMMUNITY -->
    <section id="community" class="section surface" data-slot="community">
      <h2 class="h2">Community</h2>
      <div class="card depth">
        <p>Community hub integrates with Supabase/Discord. Until we wire it, join via invite and read the latest updates above.</p>
        <div class="cta-row">
          <button class="btn outline" data-action="community">Open Community</button>
        </div>
      </div>
    </section>

    <!-- PROFILE (stub) -->
    <section id="profile" class="section surface hidden" data-slot="profile">
      <h2 class="h2">Your profile</h2>
      <div class="card depth">
        <div class="profile-row">
          <div>
            <div class="label">Signed in as</div>
            <div id="userName" class="value">Guest</div>
          </div>
          <div>
            <div class="label">Plan</div>
            <div id="userPlan" class="value badge">—</div>
          </div>
          <div class="profile-actions">
            <button id="signInBtn" class="btn outline">Sign in</button>
            <button id="signOutBtn" class="btn ghost hidden">Sign out</button>
          </div>
        </div>
        <hr/>
        <div>
          <div class="label">Saved block</div>
          <pre id="savePreview" class="save-preview">None yet — paste one from the header.</pre>
        </div>
      </div>
    </section>
  </main>

  <!-- ADMIN CUSTOMISING BOARD (admin only) -->
  <aside id="adminBoard" class="admin-board hidden surface depth">
    <div class="admin-head">
      <strong>Customising Board</strong>
      <div class="spacer"></div>
      <button id="closeAdmin" class="btn icon" title="Close">×</button>
    </div>

    <div class="admin-grid">
      <section>
        <h4>Brand & theme</h4>
        <label class="row">
          <span>Accent hue</span>
          <input id="accentInput" type="color" value="#f5c84b" />
        </label>
        <label class="row">
          <span>Scale</span>
          <input id="scaleInput" type="range" min="0.9" max="1.15" step="0.01" value="1.0" />
        </label>
        <label class="row">
          <span>Density</span>
          <select id="densityInput">
            <option value="regular">Regular</option>
            <option value="compact">Compact</option>
          </select>
        </label>
        <label class="row">
          <span>Live background</span>
          <input id="bgToggle" type="checkbox" checked />
        </label>
        <label class="row">
          <span>Depth borders</span>
          <input id="depthToggle" type="checkbox" checked />
        </label>
      </section>

      <section>
        <h4>Slots (drag to reorder)</h4>
        <ul id="slotList" class="slots"></ul>
        <div class="row">
          <button id="resetOrder" class="btn ghost">Reset order</button>
        </div>
      </section>

      <section>
        <h4>Admin tools</h4>
        <div class="row">
          <button id="exportSave" class="btn outline">Export current Save</button>
          <button id="toggleProfileSection" class="btn ghost">Toggle Profile section</button>
        </div>
        <p class="muted small">Admin is stored locally. To (re)enable on a new device, open the site with <code>#admin=on</code> in the URL.</p>
      </section>
    </div>
  </aside>

  <footer class="footer surface">
    <p>© <span id="year"></span> THE GRID — All rights reserved.</p>
  </footer>

  <script src="ui.js" defer></script>
</body>
</html>
