<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>THEGRID — Black & Gold</title>
<meta name="theme-color" content="#0b0d0f"/>
<link rel="icon" href="assets/images/logo.png"/>
<style>
:root{
  --bg:#0b0d0f;--panel:#101317;--ink:#e9edf1;--muted:#aab3bd;
  --accent:#e9b94f;--accent-2:#b8891f;--ring:rgba(233,185,79,.35);
  --card: #0f1216; --edge: #1b1f26;
  --radius:18px; --glow:0.5; --pad:18px; --lead:1.45; --fs:16px;
}
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;background:radial-gradient(1200px 400px at 85% -10%,rgba(233,185,79,.07),transparent 60%),var(--bg);color:var(--ink);font:var(--fs)/var(--lead) ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial}
h1,h2,h3{margin:0 0 .5rem}
h1{font-size:clamp(32px,5vw,56px);letter-spacing:.3px}
h2{font-size:clamp(22px,3.2vw,28px)}
h3{font-size:18px;color:var(--muted)}
p{margin:.4rem 0 0;color:var(--muted)}
.container{max-width:1100px;margin:0 auto;padding:20px}
.card{background:linear-gradient( to bottom, rgba(255,255,255,.02), rgba(255,255,255,.01) ) , var(--card);
  border:1px solid color-mix(in oklab, var(--edge) 70%, #000);
  border-radius:var(--radius); padding:var(--pad);
  box-shadow:0 0 calc(50px*var(--glow)) var(--ring), inset 0 1px 0 rgba(255,255,255,.03);
}
.row{display:grid;gap:18px}
.header{position:sticky;top:0;z-index:40;background:
  linear-gradient(180deg,rgba(11,13,15,.9),rgba(11,13,15,.6) 80%,transparent);}
.header-inner{display:flex;align-items:center;gap:14px;padding:12px 16px}
.logo{width:40px;height:40px;border-radius:12px;background:
  radial-gradient(circle at 30% 30%,rgba(233,185,79,.55),transparent 55%),
  #0a0c0f;border:1px solid #2a2e37;display:grid;place-items:center;overflow:hidden}
.logo img{width:100%;height:100%;object-fit:cover;mix-blend:screen;opacity:.9}
.brand{display:flex;flex-direction:column}
.brand b{letter-spacing:.4px}
.badge{font:12px/1 system-ui;color:#0b0d0f;background:linear-gradient(#f7d57a,#e6b34a);
  padding:.55rem .9rem;border-radius:999px;border:1px solid #b8891f;box-shadow:0 6px 18px rgba(233,185,79,.25)}
.btn{appearance:none;border:0;border-radius:12px;padding:.8rem 1.1rem;font-weight:600;
  color:#0b0d0f;background:linear-gradient(#f1cd67,#e0aa3c);box-shadow:0 10px 28px rgba(233,185,79,.25)}
.btn.secondary{color:var(--ink);background:#1a1f27;border:1px solid #2a2f38}
.btn.block{display:block;width:100%}
.kicker{display:flex;gap:10px;margin-top:10px}
.hero{height:340px;border-radius:var(--radius);background:#0d1014;display:grid;place-items:center;overflow:hidden;border:1px dashed #3a3f47}
.hero video,.hero img{width:100%;height:100%;object-fit:cover}
.section-title{position:relative;margin-bottom:.4rem}
.section-title::after{content:"";position:absolute;left:0;bottom:-8px;width:84px;height:3px;border-radius:999px;background:linear-gradient(90deg,var(--accent),transparent)}
.grid-3{display:grid;gap:16px;grid-template-columns:repeat(auto-fit,minmax(260px,1fr))}
.plan{position:relative}
.plan .tag{position:absolute;right:14px;top:14px;background:#111923;color:#e7eef6;border:1px solid #263241;padding:.28rem .55rem;border-radius:999px;font-size:12px}
.plan.gold .tag{background:#20170a;color:#ffefc0;border-color:#6d4a0f}
.plan.diamond .tag{background:#0e1620;color:#d6f2ff;border-color:#2a475e}
ul{margin:.6rem 0 0;padding-left:1.1rem}
small.note{display:block;color:var(--muted);margin-top:10px}
.library .tabs{display:flex;flex-wrap:wrap;gap:10px;margin-bottom:12px}
.tab{padding:.5rem .9rem;border-radius:999px;border:1px solid #2a2f38;background:#10151c;color:#cbd4df;font-size:14px}
.tab[aria-selected="true"]{outline:2px solid var(--ring);background:#141a22}
.library .tiles{display:grid;gap:12px}
.tile{height:92px;border-radius:14px;border:1px dashed #3a3f47;display:grid;place-items:center;color:#9fb0c4;background:#0e1217}
.tile:hover{border-color:#526179}
.pricing-cta{display:flex;gap:10px;margin-top:12px}
footer{color:#99a6b5;margin:28px 0 18px;text-align:center}
.panel{position:fixed;right:16px;bottom:16px;width:min(420px,92vw);max-height:86vh;overflow:auto;
  border-radius:16px;background:#0f1318;border:1px solid #2a2f38;box-shadow:0 25px 80px rgba(0,0,0,.45), 0 0 50px var(--ring);padding:14px;display:none;z-index:50}
.panel.open{display:block}
.panel label{display:grid;gap:6px;margin:8px 0}
.range{accent-color:var(--accent)}
.sel{padding:.6rem;border-radius:10px;background:#0b0f14;border:1px solid #2a2f38;color:#cbd4df}
.field{display:grid;gap:8px;margin:10px 0}
.controls{display:flex;gap:8px;flex-wrap:wrap;margin-top:6px}
.bad{background:#12161c;border:1px solid #2a2f38;color:#cbd4df;border-radius:10px;padding:.6rem .9rem}
hr.sep{border:0;border-top:1px solid #202733;margin:12px 0}
canvas#fx{position:fixed;inset:0;pointer-events:none;z-index:60}
.hidden{display:none}
</style>
</head>
<body>

<canvas id="fx" class="hidden"></canvas>

<header class="header">
  <div class="header-inner container">
    <div class="logo"><img src="assets/images/logo.png" alt=""></div>
    <div class="brand">
      <b id="greet">Welcome to THEGRID</b>
      <small style="color:var(--muted)">Black &amp; Gold</small>
    </div>
    <div style="margin-left:auto;display:flex;gap:10px">
      <button id="btnCustomize" class="btn secondary">Customize</button>
      <a href="#plans" class="btn">Join Now</a>
    </div>
  </div>
</header>

<main class="container" style="padding-bottom:60px">

  <!-- Hero -->
  <section class="row card" style="margin-top:18px">
    <h1>Black &amp; Gold</h1>
    <p>Cinematic visuals. Owner controls. One-file updates with a premium finish.</p>
    <div id="hero" class="hero" data-src="assets/videos/hero_1.mp4">
      <button class="bad" id="playHero">Play</button>
    </div>
    <div class="kicker">
      <a href="#library" class="btn secondary">Open Library</a>
      <a href="#plans" class="btn">See Pricing</a>
    </div>
  </section>

  <!-- Library -->
  <section id="library" class="row card library">
    <div class="section-title"><h2>Library</h2></div>
    <p>Tap a tile to set media. Drop files into <code>assets/videos</code> or <code>assets/images</code>.
    Optional: add <code>assets/manifest.json</code> to list more.</p>

    <div class="tabs" id="libTabs">
      <button class="tab" aria-selected="true" data-scope="hero">Hero</button>
      <button class="tab" data-scope="reels916">Reels 9:16</button>
      <button class="tab" data-scope="reels169">Reels 16:9</button>
      <button class="tab" data-scope="backgrounds">Backgrounds</button>
      <button class="tab" data-scope="logos">Logos</button>
      <button class="tab" data-scope="images">Images</button>
    </div>

    <div class="tiles" id="tiles"></div>
    <small class="note">Tip: name files clearly (e.g. <code>hero_1.mp4</code>, <code>reel_9x16_a.mp4</code>). The list auto-loads from your
      <code>assets/manifest.json</code> when present.</small>
  </section>

  <!-- Plans -->
  <section id="plans" class="row card">
    <div class="section-title"><h2>Plans</h2></div>
    <p>Fair pricing. No lock-in. 7-day refund.</p>

    <div class="grid-3" style="margin-top:8px">
      <article class="card plan basic" data-tier="basic">
        <span class="tag">BASIC</span>
        <h2>£9<span style="font-size:.6em">/mo</span></h2>
        <ul>
          <li>Starter templates</li><li>Library access</li><li>Email support</li>
        </ul>
        <div class="pricing-cta">
          <button class="btn block pay" data-tier="basic">Choose</button>
        </div>
      </article>

      <article class="card plan" data-tier="silver">
        <span class="tag">SILVER</span>
        <h2>£29<span style="font-size:.6em">/mo</span></h2>
        <ul>
          <li>Everything in Basic</li><li>Advanced effects</li><li>Priority support</li>
        </ul>
        <div class="pricing-cta">
          <button class="btn block pay" data-tier="silver">Choose</button>
        </div>
      </article>

      <article class="card plan gold" data-tier="gold">
        <span class="tag">GOLD</span>
        <h2>£49<span style="font-size:.6em">/mo</span></h2>
        <ul>
          <li>Full customization</li><li>Admin toolkit</li><li>1:1 onboarding</li>
        </ul>
        <div class="pricing-cta">
          <button class="btn block pay" data-tier="gold">Choose</button>
        </div>
      </article>

      <article class="card plan diamond" data-tier="diamond" style="grid-column:1/-1">
        <span class="tag">DIAMOND</span>
        <h2>£99<span style="font-size:.6em">/mo</span></h2>
        <ul>
          <li>Custom pipelines</li><li>Hands-on help</li><li>Priority turnaround</li>
        </ul>
        <div class="pricing-cta">
          <button class="btn block pay" data-tier="diamond">Choose</button>
        </div>
      </article>
    </div>

    <small class="note">All plans billed monthly. Cancel anytime. Prices are fair-value, not inflated — adjust in the Customize panel.</small>
  </section>

  <!-- À-la-carte -->
  <section class="row card">
    <div class="section-title"><h2>À-la-carte Services</h2></div>
    <div class="grid-3">
      <article class="card">
        <span class="tag">SETUP</span>
        <h2>£39</h2>
        <ul><li>Deploy &amp; connect Pages</li><li>Analytics hookup</li><li>Best-practice sweep</li></ul>
        <button class="btn block pay" data-tier="setup">Start Setup</button>
      </article>
      <article class="card">
        <span class="tag">REELS</span>
        <h2>£59</h2>
        <ul><li>3 niche reels</li><li>Captions &amp; cuts</li><li>IG/TikTok ready</li></ul>
        <button class="btn block pay" data-tier="reels">Order Pack</button>
      </article>
      <article class="card">
        <span class="tag">TEMPLATES</span>
        <h2>£29</h2>
        <ul><li>5 premium blocks</li><li>Copy-paste ready</li><li>Lifetime updates</li></ul>
        <button class="btn block pay" data-tier="templates">Get Pack</button>
      </article>
    </div>
  </section>

  <!-- Contact -->
  <section class="row card">
    <div class="section-title"><h2>Contact</h2></div>
    <form class="row" onsubmit="event.preventDefault();alert('Thanks! We will reply from gridcoresystems@gmail.com');">
      <div class="grid-3">
        <input class="bad" placeholder="Your name" required/>
        <input class="bad" type="email" placeholder="you@example.com" required/>
        <input class="bad" placeholder="How can we help?" />
      </div>
      <textarea class="bad" rows="5" placeholder="Write your message…"></textarea>
      <button class="btn" style="margin-top:6px;width:160px">Send</button>
    </form>
    <small class="note">Replies from <b>gridcoresystems@gmail.com</b>. No spam, no sharing.</small>
  </section>

</main>

<!-- Customize Panel -->
<section id="panel" class="panel" aria-hidden="true">
  <div style="display:flex;justify-content:space-between;align-items:center;gap:8px">
    <h3>Design Panel</h3>
    <button id="btnClose" class="bad">Close</button>
  </div>
  <label>Accent color <input id="accent" type="color" class="sel" value="#e9b94f"></label>
  <label>Card radius <input id="radius" type="range" min="8" max="28" value="18" class="range"></label>
  <label>Border Glow (0–100) <input id="glow" type="range" min="0" max="100" value="50" class="range"></label>

  <div class="field">
    <b>Typography & Spacing</b>
    <div class="controls">
      <label class="bad">Font size <input id="fs" type="range" min="14" max="18" value="16" class="range"></label>
      <label class="bad">Spacing <input id="pad" type="range" min="12" max="24" value="18" class="range"></label>
    </div>
  </div>

  <div class="field">
    <b>Borders</b>
    <select id="borderStyle" class="sel">
      <option value="solid">Solid</option>
      <option value="double">Double</option>
      <option value="bevel">Bevel</option>
      <option value="glow">Glow</option>
    </select>
  </div>

  <div class="field">
    <b>Confetti</b>
    <div class="controls">
      <label class="bad">Density <input id="cDensity" type="range" min="10" max="200" value="80" class="range"></label>
      <label class="bad">Speed <input id="cSpeed" type="range" min="0.3" max="2.5" value="1" step=".1" class="range"></label>
      <select id="cShape" class="sel">
        <option value="mix">Mix</option>
        <option value="gold">Gold shards</option>
        <option value="silver">Silver bits</option>
        <option value="diamond">Diamond spark</option>
      </select>
    </div>
    <small class="note">Confetti is GPU-friendly (canvas) and only triggers when a plan button is pressed.</small>
  </div>

  <div class="controls">
    <button id="save" class="btn secondary">Save to this device</button>
    <button id="reset" class="btn secondary">Reset</button>
  </div>
  <hr class="sep">
  <small class="note">Changes affect the whole site unless a section adds overrides later. Settings persist with <code>localStorage</code>.</small>
</section>

<script>
(() => {
  const $ = (s, el=document)=>el.querySelector(s);
  const $$ = (s, el=document)=>[...el.querySelectorAll(s)];

  /* Greeting */
  const hour = new Date().getHours();
  const msg = hour<12?'Good morning':hour<18?'Good afternoon':'Good evening';
  $('#greet').textContent = `${msg} — THEGRID`;

  /* Hero */
  const hero = $('#hero');
  const play = $('#playHero');
  const setHero = src => {
    hero.innerHTML = '';
    if(!src) return;
    if(/\.(mp4|webm|mov)$/i.test(src)){
      const v=document.createElement('video');
      v.src=src; v.autoplay=false; v.controls=true; v.playsInline=true; v.muted=false;
      hero.appendChild(v);
    }else{
      const img=new Image(); img.src=src; img.alt='Hero';
      hero.appendChild(img);
    }
  };
  setHero(hero.dataset.src);
  play?.addEventListener('click',()=>hero.querySelector('video')?.play());

  /* Library data */
  const fallbackManifest = {
    hero: ["assets/videos/hero_1.mp4","assets/images/hero_1.jpg"],
    reels916: ["assets/videos/interaction_1.mp4"],
    reels169: ["assets/videos/pour_1.mp4"],
    backgrounds: [],
    logos: ["assets/images/logo.png"],
    images: ["assets/images/hero_2.jpg","assets/images/hero_3.jpg"]
  };

  async function getManifest(){
    try{
      const r=await fetch('assets/manifest.json',{cache:'no-store'});
      if(!r.ok) throw 0; return await r.json();
    }catch{ return fallbackManifest }
  }

  /* Build library */
  (async ()=>{
    const data = await getManifest();
    const tiles = $('#tiles');
    function render(scope='hero'){
      tiles.innerHTML='';
      (data[scope]||[]).forEach(src=>{
        const t=document.createElement('button');
        t.className='tile'; t.textContent=src;
        t.addEventListener('click',()=>{
          if(scope==='hero' || /\.(mp4|webm|mov|jpg|jpeg|png|gif)$/i.test(src)){
            setHero(src);
            localStorage.setItem('tg_hero',src);
            window.scrollTo({top:0,behavior:'smooth'});
          }
        });
        tiles.appendChild(t);
      });
    }
    $('#libTabs').addEventListener('click',e=>{
      const b=e.target.closest('.tab'); if(!b) return;
      $$('.tab').forEach(x=>x.setAttribute('aria-selected','false'));
      b.setAttribute('aria-selected','true');
      render(b.dataset.scope);
    });
    const savedHero = localStorage.getItem('tg_hero');
    if(savedHero) setHero(savedHero);
    render('hero');
  })();

  /* Customize Panel */
  const panel = $('#panel');
  $('#btnCustomize').onclick=()=>panel.classList.add('open');
  $('#btnClose').onclick =()=>panel.classList.remove('open');

  const apply = s=>{
    if(s.accent) document.documentElement.style.setProperty('--accent',s.accent);
    if(s.radius) document.documentElement.style.setProperty('--radius',s.radius+'px');
    if(s.glow!==undefined) document.documentElement.style.setProperty('--glow',s.glow);
    if(s.fs) document.documentElement.style.setProperty('--fs',s.fs+'px');
    if(s.pad) document.documentElement.style.setProperty('--pad',s.pad+'px');
    if(s.borderStyle){
      const root=document.documentElement.style;
      if(s.borderStyle==='double'){
        root.setProperty('--edge','#3a3f47');
        document.querySelectorAll('.card').forEach(c=>{
          c.style.border='3px double #454c57';
        });
      }else if(s.borderStyle==='bevel'){
        document.querySelectorAll('.card').forEach(c=>{
          c.style.border='1px solid #2b313a';
          c.style.boxShadow='inset 0 1px 0 rgba(255,255,255,.06), 0 0 calc(50px*var(--glow)) var(--ring)';
        });
      }else if(s.borderStyle==='glow'){
        document.querySelectorAll('.card').forEach(c=>{
          c.style.border='1px solid #2b313a';
          c.style.boxShadow='0 0 60px var(--ring), inset 0 1px 0 rgba(255,255,255,.04)';
        });
      }else{
        document.querySelectorAll('.card').forEach(c=>{
          c.style.border='1px solid #2b313a';
          c.style.boxShadow='0 0 calc(50px*var(--glow)) var(--ring), inset 0 1px 0 rgba(255,255,255,.03)';
        });
      }
    }
  };

  const controls = {
    accent: $('#accent'), radius: $('#radius'), glow: $('#glow'),
    fs: $('#fs'), pad: $('#pad'), borderStyle: $('#borderStyle'),
    cDensity: $('#cDensity'), cSpeed: $('#cSpeed'), cShape: $('#cShape'),
  };

  const SETTINGS_KEY='tg_settings_v2';
  const load=()=>JSON.parse(localStorage.getItem(SETTINGS_KEY)||'{}');
  const save=s=>localStorage.setItem(SETTINGS_KEY,JSON.stringify(s));
  let S = Object.assign({accent:'#e9b94f',radius:18,glow:.5,fs:16,pad:18,borderStyle:'solid',cDensity:80,cSpeed:1,cShape:'mix'}, load());
  // init controls
  controls.accent.value=S.accent; controls.radius.value=S.radius; controls.glow.value=String(S.glow*100);
  controls.fs.value=S.fs; controls.pad.value=S.pad; controls.borderStyle.value=S.borderStyle;
  controls.cDensity.value=S.cDensity; controls.cSpeed.value=S.cSpeed; controls.cShape.value=S.cShape;
  apply(S);

  // live update
  Object.entries(controls).forEach(([k,el])=>{
    el.addEventListener('input',()=>{
      if(k==='glow') S[k]=(+el.value/100); else if(k==='fs'||k==='pad'||k==='radius'||k==='cDensity') S[k]=+el.value;
      else if(k==='cSpeed') S[k]=+el.value; else S[k]=el.value;
      apply(S);
    });
  });
  $('#save').onclick=()=>{ save(S); alert('Saved to this device.'); };
  $('#reset').onclick=()=>{ localStorage.removeItem(SETTINGS_KEY); location.reload(); };

  /* Confetti — GPU friendly canvas */
  const fx = $('#fx'); const ctx = fx.getContext('2d');
  let parts=[], running=false;
  const tiers = {
    basic:  {color:'#f0f2f7', shape:'mix'},
    silver: {color:'#c0c6cf', shape:'square'},
    gold:   {color:'#ffd24f', shape:'triangle'},
    diamond:{color:'#b8f1ff', shape:'spark'},
    setup:  {color:'#ffd24f', shape:'mix'},
    reels:  {color:'#ffd24f', shape:'triangle'},
    templates:{color:'#ffd24f', shape:'square'}
  };
  const spawn = (x,y,tier='gold')=>{
    const style=tiers[tier]||tiers.gold;
    const density=S.cDensity, speed=S.cSpeed, shape=S.cShape==='mix'?style.shape:S.cShape;
    parts = [...Array(density)].map(()=>({
      x, y, vx:(Math.random()-0.5)*3*speed, vy:(Math.random()*-3-1.5)*speed,
      r:Math.random()*Math.PI, s:Math.random()*6+2, a:1, color:style.color, shape
    }));
    if(!running){ running=true; fx.classList.remove('hidden'); resize(); requestAnimationFrame(tick); }
  };
  const resize=()=>{ fx.width=innerWidth*devicePixelRatio; fx.height=innerHeight*devicePixelRatio; ctx.setTransform(devicePixelRatio,0,0,devicePixelRatio,0,0); };
  addEventListener('resize',resize);

  const draw = p=>{
    ctx.globalAlpha = Math.max(p.a,0);
    ctx.fillStyle = p.color;
    ctx.save(); ctx.translate(p.x,p.y); ctx.rotate(p.r);
    const s=p.s;
    if(p.shape==='triangle'){ ctx.beginPath(); ctx.moveTo(0,-s); ctx.lineTo(s,s); ctx.lineTo(-s,s); ctx.closePath(); ctx.fill(); }
    else if(p.shape==='square'){ ctx.fillRect(-s,-s,s*2,s*2); }
    else if(p.shape==='spark'){ ctx.beginPath(); ctx.arc(0,0,s*.8,0,Math.PI*2); ctx.fill(); ctx.fillRect(-s*1.2,-1,s*2.4,2); }
    else { // mix
      Math.random()<.5? ctx.fillRect(-s,-s,s*2,s*2) : (ctx.beginPath(),ctx.moveTo(0,-s),ctx.lineTo(s,s),ctx.lineTo(-s,s),ctx.closePath(),ctx.fill());
    }
    ctx.restore();
  };
  const tick = ()=>{
    ctx.clearRect(0,0,fx.width,fx.height);
    parts.forEach(p=>{ p.vy+=0.04; p.x+=p.vx; p.y+=p.vy; p.r+=0.05; p.a-=0.007; draw(p); });
    parts = parts.filter(p=>p.a>0 && p.y<innerHeight+40);
    if(parts.length) requestAnimationFrame(tick); else { running=false; fx.classList.add('hidden'); }
  };

  // Trigger confetti on CTA click and center on the clicked card
  $$('.pay').forEach(btn=>{
    btn.addEventListener('click',e=>{
      const card = e.currentTarget.closest('.plan') || e.currentTarget.closest('.card');
      const rect = card.getBoundingClientRect();
      const x = rect.left + rect.width/2;
      const y = rect.top  + 20;
      spawn(x,y, e.currentTarget.dataset.tier);
      // Scroll card into view (polished)
      card.scrollIntoView({behavior:'smooth',block:'center'});
      // Here you can open Stripe/checkout modal
    });
  });
})();
</script>
</body>
</html>
