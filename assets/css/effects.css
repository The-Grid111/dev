/* ===== THE GRID – Effects / Micro-Interactions ===== */

/* Header shrink on scroll */
:root { --hdr-h: 64px; --hdr-h-small: 54px; }
header { transition: height .22s ease, background .25s ease, border-color .25s ease; height: var(--hdr-h); }
header.compact { height: var(--hdr-h-small); background: color-mix(in srgb, #0b0c10 84%, #000 16%); border-bottom-color:#1a1f2c; }

/* Buttons – press/hover */
.btn { transform: translateY(0); transition: transform .12s ease, filter .2s ease, box-shadow .2s ease; }
.btn:active { transform: translateY(1px) scale(.995); }
.btn.primary:hover { filter: brightness(1.03) saturate(1.02); }

/* Focus rings */
:where(button, a, input, textarea, select):focus-visible {
  outline: none;
  box-shadow: 0 0 0 2px rgba(231,184,75,.28), 0 0 0 1px color-mix(in srgb, var(--accent), #000 46%) inset;
}

/* Cards lift subtly */
.card { transition: box-shadow .25s ease, transform .18s ease; }
.card:hover { transform: translateY(-1px); box-shadow:
  0 0 0 1px #202636 inset,
  0 14px 60px rgba(0,0,0,.55),
  0 0 0 calc(var(--ring) * .14px) color-mix(in srgb, var(--accent), transparent 88%);
}

/* Tiles */
.tile { transition: box-shadow .2s ease, transform .15s ease, background .25s ease; }
.tile:hover { transform: translateY(-1px); background:#101520; }

/* Modal open/close motion */
dialog[open] { animation: pop .14s ease-out; }
@keyframes pop { from { transform: translateY(6px) scale(.985); opacity:.0 } to { transform: none; opacity:1 } }

/* Floating confetti canvas */
#fx { position: fixed; inset: 0; pointer-events: none; z-index: 60; }

/* Subtle shimmer border utility */
.shimmer {
  position: relative; overflow: hidden;
  box-shadow: 0 0 0 1px #202636 inset;
}
.shimmer:after {
  content:""; position:absolute; inset:-100% -60%; transform: rotate(12deg);
  background: linear-gradient(90deg, transparent, rgba(255,255,255,.12), transparent);
  animation: shine 2.2s linear infinite;
}
@keyframes shine { to { transform: translateX(120%) rotate(12deg); } }

/* Hero media fade-in */
.hero-media { opacity: 0; animation: fadeIn .35s ease forwards; }
@keyframes fadeIn { to { opacity: 1 } }

/* Library tag pills */
.pill { transition: box-shadow .2s ease, background .2s ease, color .2s ease; }
.pill.active { background:#151a24; box-shadow: 0 0 0 2px var(--accent) inset; }

/* Header blur guard when taking screenshots (prevents black rectangle flash) */
html.screenshotting header { background: #0b0c10 !important; backdrop-filter: none !important; }
